Homework 2
================
Julia Thompson
10/1/2019

## Problem 1

Read and cleaned Mr. Trash Wheel data.

``` r
trash_data = read_excel(
  path = "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = "Mr. Trash Wheel",
  range = "A2:N408") %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>%
  mutate(sports_balls = as.integer(sports_balls))
```

Read and cleaned precipitation data for 2017 and 2018. Rows without
precipitation data were omitted and a variable was added for *year*.

``` r
precip_2017 = read_excel(
  path = "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = "2017 Precipitation",
  skip = 1) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2017)

precip_2018 = read_excel(
  path = "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = "2018 Precipitation",
  skip = 1) %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  mutate(year = 2018)
```

Combined precipitation datasets and converted month to a character
variable.

``` r
# CHANGE THIS AND USE ONE OF THE JOIN FUNCITONS!

precip_data = 
  bind_rows(precip_2017, precip_2018) %>% 
  pivot_wider(
  names_from = year,
  values_from = total) %>% 
  rename("total_precip_2017" = "2017", "total_precip_2018" = "2018") %>% 
  mutate(
    month = month.name[]
  )
```

The first dataset created was *trash\_data*, which is made up of 344
observations and 14 variables. It contains a variable *dumpster*, which
ranges from 1 to 344 and denotes the dumpster ID. For each dumpster, we
have variables *month*, *year*, and *date* to inform us about when the
data was collected. Additionally, there are several variables that
correspond to specifics about what each dumpster collected (such as
*plastic\_bottles* and *chip\_bags*). The median number of sports balls
collected in a dumpster in 2017 was 8.

The second dataset created was *precip\_data*, made up of 12
observations and 3 variables. The variables are *month*,
*total\_precip\_2017*, and *total\_precip\_2018*, which give the month
of the year (January through December), and inches of rainfall per month
for 2017 and 2018 respectively. The total precipitation in 2018 was
70.33 inches, which is a large increase compared to the total
precipitation in 2017 of 32.93 inches.

## Problem 2

First, clean the data in pols-month.csv. Use separate() to break up the
variable mon into integer variables year, month, and day; replace month
number with month name; create a president variable taking values gop
and dem, and remove prez\_dem and prez\_gop; and remove the day
variable.

``` r
pols_data = read_csv(
  file = "./data/pols-month.csv") %>% 
  separate(col = mon, into = c("year", "month", "day"), sep = "-", convert = TRUE) %>% 
  mutate(
    prez_gop = ceiling(prez_gop/2),
    month = month.name[month],
    president = prez_gop - prez_dem,
    president = recode(president, `-1` = "dem", `1` = "gop")
  ) %>% 
  select(year, month, president, everything(), -day)
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

Second, clean the data in snp.csv using a similar process to the above.
For consistency across datasets, arrange according to year and month,
and organize so that year and month are the leading columns.

``` r
snp_data = read_csv(
  file = "./data/snp.csv") %>% 
  separate(col = date, into = c("month", "day", "year"), sep = "/", convert = TRUE) %>% 
  mutate(
    month = month.name[month]
  ) %>% 
  select(year, month, everything(), -day)
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

Third, tidy the unemployment data so that it can be merged with the
previous datasets. This process will involve switching from “wide” to
“long” format; ensuring that key variables have the same name; and
ensuring that key variables take the same values.

``` r
unemp_data = read_csv(
  file = "./data/unemployment.csv") %>% 
  janitor::clean_names() %>% 
  #mutate(
  #  rename(c(jan:dec) = c(`1`:`12`))
  #) %>% 
  pivot_longer(
    cols = jan:dec,
    names_to = "month",
    values_to = "value"
  )
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )
